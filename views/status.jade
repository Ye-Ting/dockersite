html
    head
        title User Status
        link(rel="stylesheet" href="/stylesheets/bootstrap-combined.min.css")
        link(rel="stylesheet" href="/stylesheets/style.css")
        script(src="/socket.io/socket.io.js")
        script(src="/javascripts/jquery.js")
        script(src="/javascripts/ifvisible.js")
        script(src="/javascripts/status.js")

        body.
            <div class="container-fluid">
                <div class="row-fluid">
                    <h1>ifvisible.js test page</h1>
                </div>
                <div class="row-fluid">
                    <div class="span6">
                        <p class="lead">Idle duration is set to <span id="idleTime" class="label label-warning">30 seconds</span>, so that you can see the effect easily.
                        </p><ul>
                            <li>Try switching between tabs or minimizing the window. and look for the event log</li>
                            <li>Do nothing and wait for idle time to fill. Counter should stop.</li>
                            <li>While Idle, try moving the mouse or pressing any key. Page should wake up</li>
                        </ul>

                        <div class="well">
                            If you wait <span class="label label-warning" id="seconds">24</span> seconds I'll sleep.
                            <div class="progress">
                              <div class="bar" id="idlebar" style="width: 19.64%;"></div>
                            </div>
                            <div id="result2">(O_o) Hey!, you woke me up.</div>
                        </div>
                        <div class="well">
                            This simple clock <span id="result3" class="badge badge-info">09:12:54</span> is updated via <code>onEvery</code> method. It should stop when page is not active (idle,hidden) and should continue with current time when page is active.
                        </div>
                    </div>
                    <div class="span6">
                        <div id="result">
                            <p>Event log.</p>
                        </div>
                    </div>
                </div>
                <script type="text/javascript">
                    var dur = (ifvisible.getIdleDuration() / 1000);
                    $('#seconds').html(dur);
                    $('#idleTime').html(dur + " seconds");
                </script>
            </div>